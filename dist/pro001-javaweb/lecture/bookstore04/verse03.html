<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码重工</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="代码重工">
    
    <link rel="preload" href="/code_heavy_industry/assets/css/0.styles.f7de6701.css" as="style"><link rel="preload" href="/code_heavy_industry/assets/js/app.a0f5103b.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/3.10c825b1.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/91.3532ee5b.js" as="script"><link rel="prefetch" href="/code_heavy_industry/assets/js/10.954da5d0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/100.1f1dc121.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/101.7f7649a8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/102.e2da17fc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/103.c4b42ae2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/104.abeab8e8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/105.8b718ed6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/106.fb5b903b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/107.904a7297.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/108.286c935d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/109.6d4a822d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/11.d48e947f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/110.1d361eca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/111.15020e6c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/112.feda9dbe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/113.6e5a8625.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/114.acf60b5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/115.66702139.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/116.ded6d336.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/117.7ce8d116.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/118.52dba7aa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/119.c1542dd4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/12.5a0d393e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/120.7d24bf01.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/121.0c7a71a1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/122.27eacae5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/123.11ea1187.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/124.84bfd032.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/125.71827185.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/126.cae22c69.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/127.26d181d7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/128.bd42ebcd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/129.56325ac1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/13.bd288a1c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/130.59ac782d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/131.b0f74ec2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/132.c473fd8f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/133.2dedf5f9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/134.ed7b20e9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/135.7056a320.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/136.6d8250db.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/137.bee0a801.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/138.898b52e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/139.0c7e41ca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/14.041a5b65.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/140.e4dc9dbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/141.b42ee30c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/142.81f34c42.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/143.1a367d9d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/144.3203ed19.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/145.da84e1b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/146.6e948d71.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/147.1ee40e31.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/148.79413ed6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/149.84dacc10.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/15.d037da15.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/150.1b76543a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/151.123c9572.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/152.24be77be.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/153.288f4de7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/154.9f52278b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/155.4697ef48.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/156.20762341.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/157.195e2d4a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/158.09535fbc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/159.487df00a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/16.39697ee9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/160.80fde7e5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/161.bda56342.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/162.c34464f2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/163.f676b3d2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/164.76953ebe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/165.1c6c4f8f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/166.55629759.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/167.73197309.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/168.88601494.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/169.19eccfbe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/17.54b492ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/170.4f34afc0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/171.5c28540e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/172.8940f347.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/173.1d662ec4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/174.0e9c7f9c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/175.d1ced6b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/176.222f802d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/177.db068fe3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/178.55d0c0cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/179.a1df6b47.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/18.049b21dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/180.4b9eec2e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/181.fc18f433.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/182.608542eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/183.efd7b75f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/184.292f93d4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/185.4c1bb403.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/186.6b66e9ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/187.e0f6cc52.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/188.ac9db85a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/189.79ee791d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/19.8d5d0a89.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/190.233337f8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/191.d9b67357.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/192.7ff12f36.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/193.a82bdc64.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/194.25fede4b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/195.a16f40de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/196.0d6de511.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/197.e960b688.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/198.c75d0f28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/199.d2cd60bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/2.d99cc497.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/20.7b835077.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/200.82eb13f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/201.4d5bfe96.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/202.f60b8ebe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/203.0cdac4ee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/204.981bf07c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/205.17c5eceb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/206.5e5039d6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/207.1291d486.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/208.0b018a17.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/209.ee70e64c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/21.fd940f1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/210.13823083.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/211.4fff6660.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/212.4dac2598.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/213.ce87550b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/214.b0483e92.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/215.dcd2fd65.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/216.e41cb717.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/217.f260064d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/218.b422b780.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/219.15351b47.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/22.fdc29b6f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/220.eb05fa07.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/221.38e1ef3c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/222.ce361d3e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/223.05c4505d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/224.5cb3d0c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/225.992e2c14.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/226.1e1c8d20.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/227.885bff08.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/228.a7844b8e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/229.c1ac9503.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/23.598929ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/230.1df21e21.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/231.f293d7ad.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/232.4016c687.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/233.733c9984.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/234.711941dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/235.207a1f11.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/236.67f5b5a8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/237.c3a2f52f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/238.64faa6f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/239.1e2be2c7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/24.7e9f09dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/240.a7a658ca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/241.1ade9c8e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/242.2c2ebc5e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/243.c4e8997c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/244.1548ccb3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/245.a3528041.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/246.40374fee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/247.2feff52b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/248.53bd8888.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/249.f6e2139d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/25.99e2a56f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/250.4384fcbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/251.516d5a45.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/252.4d01694b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/253.7be7312a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/254.28fdd1b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/255.e16e59f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/256.3e1d2a87.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/257.a38408ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/258.29a08dcf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/259.957125c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/26.61ae61d6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/260.4ca88583.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/261.9bd4c4ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/262.c063c9a4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/263.67412731.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/264.0a017fb7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/265.4de95e0c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/266.1c4ded68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/267.497abc84.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/268.485e5306.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/269.062b01e0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/27.ba8b5ffb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/270.e95cdfaa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/271.5d6e6159.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/272.999b1374.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/273.67b9ff0d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/274.0fab6a01.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/275.21dbaeb7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/276.86c3ef7c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/277.a5743cdb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/278.09cc9597.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/279.5a3cba1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/28.e0ac3a25.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/280.b747efcc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/281.eacb0fd4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/282.de8d1ffe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/283.7f34f5c8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/284.0af81dd6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/285.5e7d6f4e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/286.438c3668.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/287.f43e6aed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/288.cd39c676.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/289.fd2b3d7e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/29.80568bbb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/290.17defaf1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/291.7e229263.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/292.da9c9e25.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/293.8be70106.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/294.dc4aefc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/295.8ad20b28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/296.7f1e15bc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/297.c057ccd5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/298.83b4a66d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/299.2a0539c1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/30.962fb43f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/300.ce9d9a9e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/301.8bb6eaee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/302.ca08ebb9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/303.d697a54b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/304.918ecbb5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/305.c00ab52c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/306.bf38351f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/307.dba5ca5c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/308.e870760d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/309.f3c63d65.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/31.d80d963e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/310.f53eae08.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/311.b9fb4792.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/312.19631a4d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/313.2c0b50d2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/314.198ce27d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/315.735fe9e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/316.51c0f214.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/317.5ed058b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/318.ba9720ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/319.4d67c528.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/32.ca0485ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/320.639fe193.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/321.30e87ac9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/322.d9ebc765.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/323.f820a8bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/324.0252409f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/325.54abb95f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/326.1123273d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/327.1d3bf987.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/328.36b4f55c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/329.eb00b796.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/33.33ff6144.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/330.ec521c78.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/331.8a50cba3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/332.e5a0752e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/333.713d6bd3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/334.2aba30a0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/335.4805422b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/336.7657d096.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/337.9f74b3e7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/338.b30aecd5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/339.088a9245.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/34.d71c3a69.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/340.5523b82f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/341.2d6bfd7c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/342.7b9f9f99.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/343.7ab1cbd2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/344.15c33404.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/345.e4eb5177.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/346.7d2efeb9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/347.64acbe33.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/348.8c017997.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/349.d4381670.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/35.5105ef9a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/350.fae7620f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/351.e52992c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/352.1785d109.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/353.a0888987.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/354.5bf8f9ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/355.823e6c3f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/356.1fa9c0ea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/357.be88008a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/358.6d69c213.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/359.43bc2516.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/36.3a6b10fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/360.e2cb1bae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/361.fe786ead.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/362.2a78b393.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/363.f970572f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/364.40acc6a6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/365.01082e85.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/366.31ce1228.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/367.0a47a59c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/368.12e55c4e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/369.a657775d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/37.45e9fbfb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/370.866263da.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/371.b2ab0276.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/372.5c78164c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/373.d746728f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/374.4208b9c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/375.f5fa5889.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/376.a4d9d3b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/377.ce2f5e03.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/378.6b6d61f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/379.a79fca8c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/38.0210a377.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/380.88c3e268.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/381.d6b6d5f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/382.ab391f45.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/383.eb5906e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/384.6da8dda0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/385.cb68ad7d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/386.82bf804a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/387.f9f52507.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/388.d4b5d8b5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/389.6b576bc8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/39.d9c4966f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/390.e638990d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/391.11fa9fa3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/392.7dc69e6d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/393.950f5825.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/394.99374bb0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/395.773ebcac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/396.2e8d4cfd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/397.48dbbfce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/398.32f8f19c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/399.faddcb5e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/4.05a73be0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/40.79a7397f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/400.1043269b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/401.8079c928.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/402.e62c2203.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/403.32dac20a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/404.3f855e08.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/405.a1fbce63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/406.20c2ed20.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/407.4249681a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/408.ecaaed84.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/409.a41a35ee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/41.4d7bcfa9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/410.32deea2e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/411.e1871f2e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/412.1bdbfc22.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/413.baae16b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/414.289ae4c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/415.7a68e627.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/416.f8ff2a46.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/417.14660f84.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/418.29231629.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/419.c990e1f2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/42.09c72853.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/420.8237c5de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/421.31c7c2f9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/422.322f971d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/423.7285b685.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/424.e2952b31.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/425.50965eb8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/426.c968ea59.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/427.28145889.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/428.c6483706.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/429.9cc1a711.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/43.4246c5b4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/430.74a87826.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/431.77be19df.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/432.5cfffaf5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/433.2009f7f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/434.c8033061.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/435.04ffe3dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/436.0afb2a44.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/437.4919603d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/438.beb001af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/439.8d0163ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/44.a262979d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/440.7aa03c5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/441.f3da7af2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/442.287ea3af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/443.ff2f605c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/444.c05101fb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/445.2715cd2e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/446.ff4ed7b2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/447.7ed62984.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/448.b5fd2c7f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/449.0d1773ef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/45.2de7531e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/450.f4570b02.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/451.36bc32de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/452.90ca33c3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/453.926cdd9b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/454.c270be6a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/455.8bc3b063.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/456.5a10871c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/457.5e7f9944.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/458.34238418.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/459.f44e8729.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/46.cf7e3cc1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/460.f21e2313.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/461.a4c9fbc3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/462.198f8266.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/463.2a2e2d30.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/464.cbc88f81.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/465.c74439ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/466.edc4a805.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/467.34e6d1b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/468.f7fd8a7c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/469.b7fbaecd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/47.6eeb886f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/470.bf66fc9f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/471.d0751b69.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/472.4d570038.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/473.d1f60860.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/474.bf035cbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/475.f5877709.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/476.0b507643.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/477.51f37f26.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/478.17a50f53.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/479.6ab1dc10.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/48.59552692.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/480.57fed6ef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/481.681f7efc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/482.ddefca8b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/483.42e72825.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/484.49a32608.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/485.ec0c2f2a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/486.a0d9aa3f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/487.52bc86f9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/488.526d51b7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/489.18e020ee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/49.891f645d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/490.2763b84f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/491.c866121c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/492.98c78901.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/493.359ae9a8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/494.f52334eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/495.5fe3c7ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/496.21bef327.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/497.9dfb824a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/498.1a8f526b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/499.fd4a9195.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/5.6d401811.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/50.2780c189.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/500.9f97aa29.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/501.1b392910.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/502.7794bcbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/503.da27494a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/504.5635e13f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/505.9039ece0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/506.54da9000.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/507.fcd9fa5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/508.cdf10038.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/509.504b73e9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/51.4d56b537.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/510.6d661d91.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/511.55fda0bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/512.b97418b4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/513.3f528d77.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/514.946719fc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/515.18ee6091.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/516.c9f22404.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/517.424fc2fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/518.f3fe35d3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/519.b152c208.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/52.40322d74.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/520.1352ed34.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/521.363d507f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/522.1341e28a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/523.c6e9ffc3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/524.9d381a10.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/525.0a99f906.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/526.d5e54c39.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/527.96fd64f0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/528.3e63f947.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/529.a22706b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/53.41545192.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/530.2926845e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/531.5c2038e5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/532.1f27208c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/533.9da5e293.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/534.dcbbce10.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/535.f38d4840.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/536.4ce95e54.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/537.682c7249.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/538.12193e8f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/539.cd57e2a0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/54.ec2fe85c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/540.5ffcc36c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/541.140674f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/542.21e823d5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/543.9752257c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/544.f32fbf46.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/545.1fdb8b00.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/546.21350aea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/547.33aa89bc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/548.02b04e80.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/549.c3019a63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/55.339694d7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/550.0e768467.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/551.9636da72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/552.8d485800.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/553.3d6d79be.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/554.2570d9fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/555.9f4bb6cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/556.9cc3ee46.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/557.d6ff6def.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/558.1785471b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/559.18bd7cfe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/56.149d7c4a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/560.bb95756a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/561.83a09eed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/562.2386c84d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/563.0ad0c02b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/564.63d9fcfb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/565.17a6b758.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/566.5264bb12.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/567.06a2c530.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/568.144f2923.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/569.3a7eb944.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/57.ae33cc97.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/570.ce1ed600.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/571.d990398a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/572.8d619dee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/573.c859cd28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/574.d6705940.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/575.aa638d75.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/576.f008e808.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/577.86008bf2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/578.61774b83.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/579.04291921.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/58.f6d8bc1f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/580.bb263f2e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/581.fb5b0e6e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/582.980c7fc3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/583.729265c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/584.678a7e4c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/585.f5b2b0c4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/586.0d7f2ac5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/587.a3fb259e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/588.e4834cfb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/589.f9f284ba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/59.51cbbdab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/590.a3ea9b25.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/591.e4998d91.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/6.df410ce8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/60.2da77b1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/61.e54f5238.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/62.8e55cb21.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/63.4bb5bbbb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/64.5430d1d0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/65.c43d7c5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/66.1950d439.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/67.cc31fdb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/68.92e129fb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/69.e52d68e8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/7.1df75d81.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/70.f551773c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/71.8dc3c248.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/72.c5ee23e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/73.35b9d26e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/74.6253a6b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/75.895544f6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/76.c7335d21.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/77.cb78bc41.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/78.e89c77f8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/79.a5fe6e66.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/8.86414990.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/80.4381e4d9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/81.dac4eca8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/82.f3bac8de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/83.2123d9af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/84.cb5585b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/85.0772da53.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/86.068a9bd6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/87.465a034f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/88.20dde556.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/89.a3e96d8b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/9.1f860ff1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/90.d77b4f21.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/92.5a367aea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/93.a9f61849.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/94.34e01a4c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/95.44c20629.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/96.289877d2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/97.ba4d8cd1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/98.38e51d1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/99.909ec661.js">
    <link rel="stylesheet" href="/code_heavy_industry/assets/css/0.styles.f7de6701.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/code_heavy_industry/" class="home-link router-link-active"><!----> <span class="site-name">代码重工</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#_1、功能清单">1、功能清单</a></li><li><a href="#_2、创建购物车模型">2、创建购物车模型</a><ul><li><a href="#_1购物车详情类-cartitem">①购物车详情类：CartItem</a></li><li><a href="#_2购物车类-cart">②购物车类：Cart</a></li></ul></li><li><a href="#_3、添加购物车功能">3、添加购物车功能</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li><li><a href="#_4css样式">④CSS样式</a></li></ul></li><li><a href="#_4、显示购物车页面">4、显示购物车页面</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_5、清空购物车">5、清空购物车</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_6、减号">6、减号</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3后端代码">③后端代码</a></li><li><a href="#_4前端代码">④前端代码</a></li></ul></li><li><a href="#_7、删除">7、删除</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_8、文本框修改">8、文本框修改</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_9、加号">9、加号</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_10、double数据运算过程中精度调整">10、Double数据运算过程中精度调整</a><ul><li><a href="#_1问题现象">①问题现象</a></li><li><a href="#_2解决方案">②解决方案</a></li></ul></li></ul></div><p></p> <h1 id="第三节-购物车"><a href="#第三节-购物车" class="header-anchor">#</a> 第三节 购物车</h1> <h2 id="_1、功能清单"><a href="#_1、功能清单" class="header-anchor">#</a> 1、功能清单</h2> <ul><li>添加购物车</li> <li>显示购物车信息</li> <li>修改购物车中具体商品的数量</li> <li>删除购物车中某个具体商品</li> <li>清空购物车</li></ul> <h2 id="_2、创建购物车模型"><a href="#_2、创建购物车模型" class="header-anchor">#</a> 2、创建购物车模型</h2> <p><img src="/code_heavy_industry/assets/img/img007.b7bb3fd9.png" alt="./images"></p> <h3 id="_1购物车详情类-cartitem"><a href="#_1购物车详情类-cartitem" class="header-anchor">#</a> ①购物车详情类：CartItem</h3> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR8AAAC+CAIAAACDApzlAAASSklEQVR42u2dX2wUxx3H585gw0UhVsDnQAwGysUWiZOoUkIuoUor40g2RKIPjpInR2ptx1RFQPOCVCokHvKS2tAKqO0nP6WChwY12BLFTVIhUF6aEkfIqV1aB5rkTEidqDHkiu+6t3u3O7s7s7e3t+Ob3ft+HmBvd2d2/uznZnd8+9tINpslAAABRGAXAIKAXQCIAnYBIArYBYAoGHb94cL7+nJsVV3L1ubNTeuLZDMz9Owjh64kB/9++WCinOJo+fSNZ4c7K90yAJRLEbs0tie2tGzZ5JTNstul7kh8Oh4xHXCiP9I1kl+V365irR29HwAMXNnF48cvPJ9fWna71FO7/OMxHKFWGItEXaKPp20jsAvw8duuI9OPqCcddSIWzsMc9LnIWk/Zld+sZUTtq2zc+7aRspDUKbdx0tU1oq00diuU0KKXVa78bpavDyMb2AW4+GqXaaNNizzWs9y0XrdLE0jLw5w5yy7ilFsymbxyRbn6O5/de868G10Uk6Tmsqj20HvllqcGx7vPduEeETjgr12mUzSnRuub9BVV8fV73lHP6L6+kRHLZstVoGndRL9TbsxRir5vY14LdhKmXeezr3+ST5kvK+wCPITcd+mfxkgPfT1VdH3BBxXjvKUGOpZxlqs2a27m60RTBawDljoommthsis5ONp2qHeEZR8ANkqwy3DJjmnsoj4Q002NdZbAvn6bdsYODk4dYk/lEWK/J7LcOtlyM9nFnAnJJ1GHTGMHu8G9o4Mf91oMJbj3AhxKs+tHE3OWle92Nuf+444LXu+7Xp82dLXsa1lX9L6LOQYaJSHm8tvnBY0rWbNFGLtAEXy1Kzk42HbokGXK0OucYeGE7zs/TnbrO1qu/4irOUPjmKZvAdYG1u0dY3dCYBcoik92AQBslPY7Q9gFgHtgFwCigF0AiAJPoAAgCtgFgChgFwCigF0AiAJ2ASAK2AWAKGAXAKLw2a5ff3xbX75/ZfSZhtWPP7iq0nUEoDIItEvjucaY4lilqwlABRBuF49fPLa20nUHQCwMuw4cOFBfXz8wMNDY2KitSaVSp0+fXlhYOH78uHN2sAsAHYZdR48eVUSKxWL9/f3Nzc1zc3PDw8OLi4uKcsom5+y82UU9dWU83Tx9RA3llKRjX+TwI8waAMsBwy5FrVOnTs3Pz9fW1u7atevixYvpdDoej+/bt08RzDk7L3ZpKpmeQbQ8mKjFYIJUIGCw77uUkUoR7ObNm9rHpqYmRS1lNCuanaexa8IWitMsnLL9WCvcAoGDO6uhjFejo6MzMzOJRKK3t1cZx9xkV8Z9Fx1UBnaBMOA0Z5jJZCYnJ9vb26PRqMvsvF0ZDs0ePFiIg6FKZblYzA1upBDxaWho20GIBoKAFDPytrjRtlsxY94DUWJAYJDCLgBCCX5nCIAoYBcAooBdAIgCdgEgCtgFgChgFwCigF0AiAJ2ASAK2AWAKGAXAKKQyC76vWGxVXUtW5s3N62vdKHKJvcLybPd3n/hz3j6raL5lEeVPe7gv11a4ADt35IS2t/Ktz2xpWXLpso2ULnALhrYVSZa4IB4PK4I5uaBSx3eOy/tOL0fXRSVOjuX2S7B1YRdZZJKpU6cOLG4uNjU1LR//36Xj10S2CX2uLCrAgi575qbmzt58mQ6nU4kEgMDAy4fvtTtqolGN67PhaO68XlqKZOx72m2yx7QhvkucbVjx7vPdqmvOlfWkvxejDA41jA6VIbWKDrqm9jPtlqfqGY/COo6lbko+QA+5vqU9rp3OmvGq99ze57P7j3HraY9K/cxhehMWO+Vd1WpQCJqVuPChQvj4+PKwu7duzs6Otwk0e3a8eSjG+LrlIXPUrc+uHrNvidllz2gjXmN8Viz2m1a12o9SIefspzQ/e/sGVbTG8np/ehnpdVzhAy6sKuUVHRh6AA+5urwqslaX8iaUNu5MhsH42Vljimkj0f2HOla0zkyG5l3xKAi49j1YvvOFTU1ysK9paU/Tl6y72nYZb/SsK7R+5vewFs24ASBU7vakkL/6GxXSanMBaFWUZIwq8lbr5WjrW9khNhGOU68oAnHrOioJ9TIRCzDF6/WzEbmHtH3M3SZkPG+a8cT2zc0NhA3Y5cru3rImDZgubOLGleo/pXfLrWas7zqa7VKJq8Q2wQmJ17QhFNWbmMKOdXa1sjcI/p7hi4fMs4ZRnP3XXGSu++azxS577IHtJm1Xl3kO6yYXaQwdU6doOo50FbKlWF+8t1I6OrKkJlKW0kVwVSeCX41mesL5dhG5VckXlCxrBgxhZQP/WSYLj+n1hPMRuYdMahI/fcuHqZZDUZAG/6shhu7EkaOyb4+MkLouQBifMXndzHmJ6iyGAmtQ5P7VEZh1Cs626SG51kNYtx3Emu8IHM1i2dl6QI67FDhr3z0lIdRa3YjY1ZDFHLPyPPx9hUb/C9mUBSJ7AoOyvfum62XS43C7S0VCDCwyxPUtVAJb43wlgoEFtgFgChgFwCigF0AiAJ2ASAK2AWAKGAXAKKAXQCIAnYBIAqJ7ELUGl56xNXwWuNyWt4HpP4VL6LWwK7yahw6uxC1RsrjIq5GBZDx6cmiwC5h+cAuP5HxyX9ErUHUGluleF3DbyIJroURtQZRawIUtYbbNYwmCqtdiFqDqDXs7vAjao1T19CptoXRLkStQdQaA3+j1hTtGrqJQmkXotYgao3PUWtmincNo4lCeWWIqDUEUWv8jVoz49w1nCYKpV2ekXtGng+i1lQYCTTiIJFdwQFRa6QCdoUMRK2RCNgFQPUBuwAQBewCQBSwCwBRwC4ARAG7ABAF7AJAFLALAFFIZBei1vDSI64GVYkyQ2UoJXh773I1g9S/4kXUGthlq0R124WoNVIeF3E19BIE2S5ErZHyuLBLL0GQ7SKIWkMQtYbGv6g1pkdRnXuT127Bt4sgag2i1lDd4VvUGnNjOvamQ7sF3C5ErUHUGnZ3lBm1xjJ2OfUmp906A24XotYgao2B/1FrqtsuRK1B1BpRUWtIaXZx2i3IdiFqDUHUGkFRa0q0i9VuAbfLM3LPyPNB1BoZkeKv5xLZFRwQtUZ+YFdwQdQa2YFdAIQa2AWAKGAXAKKAXQCIAnYBIArYBYAoYBcAooBdAIhCIrsQtYaXPjxxNUoobJnxM6RA6l/xImoN7Ao0Mj6BUhTE1RCWTwUlZB46UF8KNmR8erIosEtYPrDLT2R88h9Ra8IatYbqoGOtSgsc0tt/lm7hT8bIq49M/5IuzzOHD0feeK/b/iin1CBqDaLWiI5aY9+qdoDR/tRzoob/TgEXlvURyDKQcexC1JpQRa1hbJ01K2cL18G0yyhQUOSS8r4LUWtCG7WGsda9Xfldx0hPUG7FZJwzRNSakEatKWz1ape673QbmWoduyz7LZeK1H/v4oGoNYRbTVJ8VmOZo9YwYu4y7TIOrc1qMJo9aCETJP2thjOIWlO1BKvZJLIrOCBqTYUI2l+/YJcnELVm2aH/jBIUYBcAooBdAIgCdgEgCtgFgChgFwCigF0AiAJ2ASAK2AWAKCSyC1FreOmrLq6GnSK/gJL0mRRJ7dJA1BrYlQd2lYncv+JFXI2KArtI4fGTgYGBxsZGbU0qlTp9+vTCwsLx48ed08IukceFXRXAZ7u0RydjsVh/f39zc/Pc3Nzw8PDi4qKinLLJOS2i1oQxao2bZndTEToBs8erwC5FrVOnTs3Pz9fW1u7atevixYvpdDoej+/bt6/ow5SIWhPSqDXOze5UEUI/Dzulm8wMg1MFdikoI5Ui2M2bN7WPTU1NilpuQgAgak0Io9YUfSR81l1F6Ig17DA41WGXgjJejY6OzszMJBKJ3t5el4FrELUmhFFrvNjFqghtFzsMTtXYpZDJZCYnJ9vb212GWyOIWhPaqDXOX2pOFWE0F/Nw1WaXBxC1JoxRa9xcMnAqQk9eUM3FCYMDuxyRe0aeD6LWAA4S2RUcELUGuAJ2eQJRa4ALYBcAooBdAIgCdgEgisiGI5fKzwUAYAd2ASAK2AWAKGAXAKIIm13RmujqB2rrVtfWrMz9vnHpf5nv7qTvfJ3OLGXKzhuA0giVXXWx2jXxWMT2s+Fshnwzv/jdYrrSBQTVRXjsUtSqfyjG+/NChJCFLxiCZbNrx461dmgfrk0//PvbHg7d/fJz+2/99QeTdyrdBkAuQmJXtCayduMDEceHXZQR7PaNrzNLhoDZx1o+e2ndn85cevXjiPbxUuOnbiTJZlf/6uff/957+YS6XZb1oMoJiV33PbjqvvpV2nI2m1ma+su96x+Su/+NNjSvfKorsmadtunbhbvffnW3sFtu1CJnvJgAu4AbQmLXgw+vWVGXH7nuXf1zZmG+9ukusrJu6Yt/1jQ0k7rV+U3fZb769zfacm7g+uFi528//ShiNSHbuPHSzzZtVZe1ka2gzTR5qbUjdetyY8Oz2q7znyo5tLyyU7Fr58WYcZGprr9K1ulrrr+v6acovfEfZ26/8FIufyXzHtKqjJ/6DpVuSOAnIbGrYXO9fll49+3BVS/8lMTW2HdTLg5v/Wshv8yxKyfSK+vOvZVbr146kgNHps+QmGLXa/EvleWzkYibsSsv0skPj6WM/XumVN8099pUr9SbPdXn2G/UzCvdlsA3wmrXT0jsAftubuzSeLz9yYnn71MXv9Tt0nVyZZd6U0fnqYxO6vimK7eWuVzptgS+ERK7zFeGk5n/fFH79B6yoi5zczpy/9pIw8b8JvrKkHNCa5eFRLuQKwwpHu2y2cszCnaFkpDYRc9qKCPUvY/eXbr+t0z6bs1DW1c+1RmJ5UMp0rMaJD9Akd8VzmltznBnapNuhbrDHY9jl3nWpPvlFvKWks862FU9hMQubzPypDApn/+g3QKphryWi0lFrl/7kmwn9rGL6JeO1KyGNidBr7/60Cbb7AjGrioiJHYRr39NBkAc4bGL4JdQQDJCZRfBr3iBTITNLgDkAXYBIArYBYAoEBMKAFHALgBEAbsAEAXsAkAUsAsAUUhkF/3+rtiqupatzZub1le6UGVDvVrSc3rLy14rmk+FKLcZK3MU/+06cOBAfX299m9JCe1vx9ue2NKyZZO/xVtuYJcvwC6No0ePLiwsxONxRbBYLOY+odzvnqzU2bnMdgVcQsnw365UKnXixInFxcWmpqb9+/fX1ta6TAi7RB4XdlUAIfddc3NzJ0+eTKfTiURiYGAgGo26SaXbVRONblzfqCzc+Dy1lGH8+tZsF/3yam1Q57+VfLz7bFfu7Y/0G7kZr4G0vveaytD6um7qhdnWF5BPW99K7j6VuSjTR8ZJV5ftteRe30qu1U7dQlf0fHbvOW417VmpRbLtZm9MxjvEGftTeT5z+HDkjfe6qVeQn+3+ZIy8ymhGRo+76E1+q/r93SJqVuPChQvj4+PKwu7duzs6Otwk0e3a8eSjG+K5Jxo/S9364Oo1+56UXfYXEJvX5D4RtenUDtDa3njnfSf7hO5/Z8+w/jZ6YtvPWJvvOjLowq5SUllPDerd9lR1eNVkrS9kTajtXJmNg/GyMopker+6LUfGIZj726qZ36WwwzZTM9p6nF8Afm8yWjUQdpU5dr3YvnNFTY2ycG9p6Y+TjJ9BGnbRDcteozcYvYG3bGD7vqMa3pJC/+hsV0mpzAWhVlGSMKvJW6+Vo61vZITYRjn6655fTc5wbBreVJK2LzvTIdj7E3M1C8cmxZqxeAGK9SZdtW3S21X+fdeOJ7ZvaGwgbsYuV3b1kDFtwHJnFzWuUL0gv11qNWd51ddqlUxeId3scy9pHUknnLIy2cX4drJAHWKW+21G11zLdYz0aIckznY5FKBob9JHl9+u8ucMo7n7rlxcixufz2eK3HfRl1sTQ0PbDuZ6z3w9k2/6YnaRwmws1f1q17SVcmWYn881Erq6MmSm0lZSRTCVZ4JfTeZ6+gQq5DczNDR78CD3NrFYVp32LlA+9JNhqvzEfgjW/sxLyp7pNjLVOma5iGX3OLcA/N5ktKr8V4Y+/r2Lh2lWwxj1GTfN1lkNN3YljByTfX1khNBzAcT4is/vYsxPUGUxElqHJvepjMKoV3S2SQ3PsxrEuO8k+q70/b5ezeJZWbqAnh7If2VM2A7Bn2Yw3y9RAhB2M1oKzSwAszc5rSq/XZ6Re0aej6tLI59SAX9Ypj88SGRXcFD65s3Wy8Y4OTXoRhNvqYAIYJfMUJciSfeSeEsF/Ad2ARBwYBcAooBdAIgCdgEgiv8DvLf7k+jo8LUAAAAASUVORK5CYII=" alt="./images"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CartItem</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> bookId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bookName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> imgPath<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> price<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> count<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> amount<span class="token punctuation">;</span>
    
    <span class="token comment">// 获取金额时需要计算得到</span>
    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2购物车类-cart"><a href="#_2购物车类-cart" class="header-anchor">#</a> ②购物车类：Cart</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cart</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CartItem</span><span class="token punctuation">&gt;</span></span> cartItemMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加购物车</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCartItem</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.获取当前Book对象的id值</span>
        <span class="token class-name">String</span> bookId <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.根据id值到Map中检查是否已存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItemMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 3.如果存在，则给原有的CartItem增加数量</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> newCount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

            cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 4.如果不存在，则创建新的CartItem对象</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CartItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setBookId</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setBookName</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getBookName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setImgPath</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getImgPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 5.将新的CartItem对象存入cartItemMap</span>
            cartItemMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>bookId<span class="token punctuation">,</span> cartItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 从购物车中删除CartItem</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeCartItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        cartItemMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量修改为指定值</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateItemCount</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">,</span> <span class="token class-name">Integer</span> newCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 根据bookId从Map中获取对应的CartItem对象</span>
        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置新的数量值</span>
        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量+1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">itemCountIncrease</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量-1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">itemCountDecrease</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">removeCartItem</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CartItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCartItemMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cartItemMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 计算总数量</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
        <span class="token class-name">Integer</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.遍历Map集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Integer</span> count <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sum <span class="token operator">=</span> sum <span class="token operator">+</span> count<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3.返回累加结果</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 计算总金额</span>
    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getTotalAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
        <span class="token class-name">Double</span> sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.遍历Map集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Double</span> amount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            sum <span class="token operator">=</span> sum <span class="token operator">+</span> amount<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3.返回累加结果</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><h2 id="_3、添加购物车功能"><a href="#_3、添加购物车功能" class="header-anchor">#</a> 3、添加购物车功能</h2> <h3 id="_1目标"><a href="#_1目标" class="header-anchor">#</a> ①目标</h3> <p>在首页点击『加入购物车』将该条图书加入『购物车』。</p> <h3 id="_2思路"><a href="#_2思路" class="header-anchor">#</a> ②思路</h3> <p>首页→加入购物车→CartServlet.addCart()→执行添加操作→回到首页</p> <h3 id="_3代码实现"><a href="#_3代码实现" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-创建cartservlet"><a href="#_1-创建cartservlet" class="header-anchor">#</a> [1]创建CartServlet</h4> <p><img src="data:image/png;base64,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" alt="./images"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CartServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ModelBaseServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">BookService</span> bookService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BookServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.从请求参数中获取bookId</span>
        <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.根据bookId查询图书数据</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.获取Session对象</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.尝试从Session域获取购物车对象</span>
        <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.判断Cart对象是否存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// 6.如果不存在，则创建新的Cart对象</span>
            cart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 7.将新创建的Cart对象存入Session域</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 8.添加购物车</span>
        cart<span class="token punctuation">.</span><span class="token function">addCartItem</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 9.回首页</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_2-index-html页面"><a href="#_2-index-html页面" class="header-anchor">#</a> [2]index.html页面</h4> <p>购物车数量显示：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--          登录后风格--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>topbar-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.user != null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>欢迎你<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.user.userName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>张总<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>注销<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pages/cart/cart.jsp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart iconfont icon-gouwuche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        购物车
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalCount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pages/manager/book_manager.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>后台管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>加入购物车：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-content<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${not #lists.isEmpty(bookList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book : ${bookList}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/uploads/huozhe.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>书名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>活着<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>作者:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.author}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>余华<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>价格:￥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>66.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>销量:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.sales}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>230<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>库存:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.stock}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--&lt;button&gt;加入购物车&lt;/button&gt;--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/CartServlet(method=addCart,bookId=${book.bookId})}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>加入购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4css样式"><a href="#_4css样式" class="header-anchor">#</a> ④CSS样式</h3> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAAD9CAIAAABV1v4CAAARy0lEQVR42u2db3AU5R3HnwRIINSKBhLU8EcgEBzCKFpLwA46gNMEpuLYaGc6I75JIjplIOVF7TQOY6Z9hQHbQU2Ydpo32iHtqCMkMxSqVCROrfgHBg4DjqGgJIKmTgkQIdf9d7vPs/vs3e1l9/Z3e9/POLo89+xzF+7j8+zmnu/9CuLxOAOABgXQEdABOgJC2HV8bd9B87hkYvGCObNmV9ySYoy+7cvmN/fWtH16eHPlWF6LPk5jd7y9Nuy/FhAOyXTUuaPy9gW3z0w2RtZ11Doyn56PCU/Y01RQ12E0GY9r2H86vh/wjdQ6uvHwgyuMo6zrqLkw9ueTSMU1WIdMO+KfT3+MQUe/8VXHlth87V3i3rnEG6fCv3mydk5H42F9IK6v8uC6160zE6cmG62b1dV16I1Wt8QrtPlot9HoZvv/zRoGOvqMfzoKDzo8MrBrIbSbOurG6WOIg8t0ZMlGq6mp6e1VFuS98XVviN34lyJYLb4WTTe+l3p8tK27vqsO17m+46OOwnuqulS1jV/kUrev3aMp0NjY0WF72LYwC209TclGk86D/LWndHmuZVId98a3nDTONF4rdPQX/68dzT91svX8EpeyPSGQhvVGc1OpTFHbQmofTVy6hR/APiVq0674Uwg61rTtqm5u6JDpCnwiXR0t+ZwIsyP3ByZcmNlvDZzt8/S3uK3taLP8hpcx53Wd7fLPMZqgo/T2xzhFm5StDk7lG3a1HWuwKc1w/egrHnR8oKff1vhW7Sz1P64zT6bXjltilt+2vra2lNeO0lnWeiVMfP3Ou2fr4kLUDrNjIPinY01bW3Vzs+3GOtM764QhjXu72Rqzo21JZmndWVvPKfxvI3tAdokq6c4YdAwIP3QEwCc8fGYNHUHQQEdACOgICIENZoAQ0BEQAjoCQkBHQAjoCAgBHQEhoCMghJ86Pn/sonl8w4TCpdMmLb55Ytg/IMglJDpu2rRpypQp+r89jcXrqLO8vESRMuyfEeQMEh23bt06NDRUVlamGFlSUpL+WE4d3fjlotKwf3BAEYmOAwMDL7zwwvDwcEVFxcaNG4uKitIcCzqCMSK/duzv79+5c+fIyEhlZeWGDRsKCwvTGSszHbldiNZ+8liLFgCs4fMsKn6kWQFdXG9l9u3b193drRysWbNm9erV6YyViY66e8ImVtvOVj25BwvzgtBnxx5Hpl40VHm8tQoy5glErh35ZBV0zF/CvrPu27791ObNiWyLZqFt/VanT5bICW7fPm8zzIwuwf7e0Q1+dnR8xYjjctK62UFUKuIE9alMcvCLHiAFn1kDQkBHQAjoCAgBHQEhoCMgBHQEhICOgBDQERACOgJCQEdACD91zKRil2ckGyRBZAhKR53UFbs8Ax2jTLA6upHsi+9TAB2jjF1HfV/Zhg0bysvL9ZaBgYGXXnppaGhox44dycfidZxYXKQMfHVkRNoTOgIpdh31vbclJSVNTU2zZs3q7+9vb28fHh5WHFUeSj6WruO4wsK7qhd+MjKxoIBVj7985FhsdHTU1tPUkdvrzW2ztVqdoS0u2KW1YwtklLDrqLj44osvDg4OFhUVrVq1av/+/SMjI2VlZU899VTK3bi6jpWzZ3RduuGf54eV4xXTS346+du+z8/aepo6WnNdT9Oy1qOsvlOvHafZeIrLJQh7xcX6QwxCRgbJtaMyFypGnj1rOFRRUaG4mE5KQdfxB4sXNh29OnxNnRFLxhe2Vxe//8kJW0+xYpeqGWtaFtvSElsf26KWy1rPOjUbxXox2gTJxMUaa3ekkN/KKDPirl27+vr6KisrGxoa0kxvJWbHir9e+v5BbXa8f3rJI0lnR80nRT5OxJb6rlbGT5JiNKYPOkYY1ztr5YLvwIEDK1euTDPVyhI6Kv2XLKo6ek39ap7qCVeOHD2R5NqR6T52sd5qYyVWjvUl27YS9zQ1sfZEkblqvpRRNRbryBDUL3qK1Qk1fnXkO2lP4c6ad0o97qo3p0THN1QY02G1VtSVbwaRIOd+7wiiDD6zBoSAjoAQ0BEQAjoCQkBHQAjoCAgBHQEhoCMgBHQEhICOgBBUdMxK7EvE9vk4IABFHXUCiH2JQEd60NXRjaTbL1Juf8T+SNL4qaNfsa/kQMcI46eOY499pYNt6665H3JvfN0bZprBKgnCb5e0gmBKh5Od7AnLTBT2IoGfOo499pUOzpyNrWJXoqlve9Oete2aWda+cq4DHxtDYS8a+HztOMbYVzpws2Oqil2uBQ9FHVFJiQz+38qMJfaVDo5rR5eKXVoz01W1mqEjaQK5s8449pUO/GKdrGIXJxmXxnFdrFHYiwK5/YseR8WuxOqs3KkcXrs3sVDXNDayDsZNmr32WxkU9qJBbusIIgYVHQFg0BGQAjoCQkBHQAjoCAgBHQEhoCMgBHQEhICOgBDQERAiCjqGEPsCwRA1HXUCj32BYIimjm5g+wVxqOhIIPYFwoeKjtmPfTnjWs4vxpd8VT4IEio6Zjv25YxrOYNgCMFmHSo6sizHviT5GGcQzNkCgoWQjiybsS/XuBYfBHNrAUFBS0eWtdiXM661do89CDbPGQ0L+28n6pDTMQMyvJVxxLWcQTBnCwiUPNYR0CMKOoLIAB0BIaAjIAR0BISAjoAQ0BEQAjoCQkBHQAjoCAgBHQVOnP584dzZto958FlO1oCOFoqLsdP9inypdPRrR4VP45i7k3K/cBN0NNBdZJp80DEsoKOK6SLLaR39f4XZBjpKgI5hAR1Vkm9Rc9Gxm9U5N0Nyhb2EPZLSdnvZkV75rkppRTB+QD57FvuNs/qY+1DU0mrQUSUDHS13rH3lYhwsdXtCR5ak6hc/9fGVcMyt7Nzo0vI5wlDU02rQMQNsbxpnlbBopmrXq+BUN3Z0MNd5SJwEmT6rVW0TBhRuZdx1zIW0Wr7r+OsPBtPv/Lu7y7T/pq/jetZ5ePMpl3Z9qWQ1Nb3M9XZYGjGzNWauo/X6iaTVoOPgpYFzJ9989crFgfK7ls198OHPD3Z/+f47178bue+Z5/ljJupoVPES/uBYlI23363dyohx49mwrctNrN1WJowrduda607/7U8OpNWg4+DHf94x/a6askX3DF84P7n8tt5tz1Q/vvF7Zep3oPHHzDY7qousM9aV6a2M0UF29yC9ueDvSdqqm7uqZBUZzeJiiV9Gkk+rQcdBxbkfbmotHD9ebznbe+DLfx+afMuMyjWPDXz0nnk8YdLkhI4gKKCjOjuW37l02h1L/nf+PzfOnKs0jl6/fuJvf7px5ryKpQ/wx9AxaKCjeu346ZuvXv56cPqS5XNWPXS864/fnD4xaer0+T/5+ZmD3eaxsmQHr6P9Rjrf4t3QMYM7axAU+a4jIAV0BISAjoAQ0BEQAjoCQkBHQAjoKIDoVrhAR4tcjW5FCOhoQCa65ba5S/vAJurfUA4dVShFt7QNYayG1Xfy4pk7dKBj3hG6jrH6tqPN/CPajt36xEaysP9+ggM6qlCKbs3TG9e9zu3d1nfstsTmC7EZ2yZIrVNbdXOz+jyykBe3M1J8SYnO3M8VUuYLOqpQim7xjY5u5jbypj1r27Xu4rN0NJpnOHeAc/vG5Ykwtzhj9jJf0DEDAo1uCY+qTplBLTHs4piNbIbJYjpmF2kibDOTO5XFzFe+60gvusUNnlh+u6rEGY2f5qzuHnWUxLj60tbR6u9v5gs6UotuuQdoZDKJz+7QMdli7UyEiTqGkfmCjrSiW3vjW05yb6fw3ooe6wt1TWMj62Cus6MQ1xJvZSS3Hm46Zi/zBR3zKbrluuxSATpGO7qlTGvbqg7bvz0l7FflCnQkFd0KAG5Rpv+ZDnREdIsQ+a4jIAV0BISAjoAQ0BEQAjoCQkBHQAjoKIDoVrhAR4u0o1sgKKCjgZfoFggK6KjiMbqVGYixpgY6SoCOYQEdVTxmZZgk9+S6fVBLQi1tePS9XbsZf4LrUNQqYWUT6KjiUUfnTi1plsqWhMrVSljZBDp6x2UTq2MOc4nU5FolrGyS7zpmssHM6ZA8S5WZjtyINCphZRPomEF0yxFl4ooEclkqdx1zqhJWNoGOGUS3nFEmaZbKbk+OVsLKJtAxn6Jb5IGO0Y5u5RjQMerRrZwCOiK6RYh81xGQAjoCQkBHQAjoCAgBHQEhoCMgBHQUQHQrXKCjBaJboQMdDRDdogB0VMlKdAukBjpKgI5hAR1VfIhuyb+MXtvt3V3fVafuaFRbmdGLOyt5B5ZsZEmNLddXmBOJMOioMuboVrJ6W0ZBNb4oh1AMJnUH15HtNbbcX2GOJMKgo3ecAZcet7pa/APS41QdTqUzMle2w+0V5kgiLN919Ce61eNWVysIHZ0jp6OjeTrpRBh09CO6pVrjVm9rbDpW9qQxckJHlvOJMOjoS3SLJbvhGJOO6Yzs1DFXE2HQEdEtQkBHRLcIAR0R3SIEdER0ixD5riMgBXQEhICOgBDQERACOgJCQEdACOgogOhWuEBHi3SjW5L9hRljfLRM5kPjkIGOBh6iW/7pSGgvDQ2go0pY0S3XfYkpiKzG0FECdAwL6KjiLSsjyOAlwyUmrbh+jVb8JfWJp6xukSvgBR1VMtXRY4bLkbTiZkdPJ0a2gBd09I40PqWTVobLirbIswapT4xsAa981zGTDWbedEyWtEqqY5ITI1vACzp6j26Ji7X3DJdMR+YlolUZ2QJe0NF7dIt/KzPJcEl19HZiVAt4QUdEtwgBHRHdIgR0RHSLENAR0S1C5LuOgBTQERCi4NaWQ2G/BgAMoCMgBHQEhICOgBDQUeDum6588M3ExjlDfGPHZ1PCfl35AnS0UFxU/lHkS65jvHzGoadL9+38sHWgIOWY8UULvrh/uPYPZz4pSN0ZQEcD3UWmyQcdwwI6qpgusjR09AR09AR0lAAdwwI6qtj8syFbrEt+3xLbzaZ2ts44ffDykyumKu2fHTzyowOX1Q7x0s7WqtXmCYNndB35dr3z4pV39qy4vKkl1lVQUP+z5TtY7La/XLSeSN5/stZwQT/L2RL23+WYgI4qY9CxavVx1SHzgvK582oj233oiWOqGapkU1UdP9bd1a444/FJz/5iydy31T5Kh41fHblvYKZtEtVdnJtQnH9e0zlnS64DHT1jnx0twxawrg+fm1bFi2Uu1h9XV33x6FR+HH3CS0yBl14W742cq7yzp9u5uUu+63hbVWn6nc/F1JU0cx1lF5Hp65jor86sT5bxUtpbchfoWDr69fnL774W/+/ghPn3Ft9be/WjA9eOvzd67bsbHt/KH7M0deQWa0MUZi7W/CK+gL1qXDIqi/XTbEHPwotqt+kznYu+ouyzq4afOzb12WlnWo9Za/36r2baWvTBcxfoWDrc3VE0/57xc+4cHRosvHn6pVd+O7G2YdxN6k5b/pilp6N6rExsxrp86WXlRmehMclpJ86coz3w993GhWPiyrJEFfdC7Na3SsxfanL9L1i3O3do5x83bnqcLTkNdCxVnJv82K/YuHF6y8ixd67F/lVQemvxsoeu9X1gHhcWl+g6guCAjursOKHy7vGzF1//+tz48tlKY3x09MrbrxSW3V68aDl/DB2DBjqq145X3n1t9NuvJiy4t/ieH1/+xyvXz/UVTCmbeN8jIx/uN4+VJRs6Bg109HxnDYIj33UEpICOgBBIEgJCQEdACOgICAEdASGgowCqboULdLRIt+pWSpLXQfKzaFfUgI4GHqpupQQ6Zgp0VAmr6pZ/EP2ub69ARwnQMSygo4q3Mkf618d313fVqd8Lr37lOzO+AN6ojSGUVrAX2+Ie1Y+6WV1dh/GYs4aXtE6WrVt06nBBRxXvOiYE0t9uqyqW5plY6cNeM4sJOjb3uhVJMEpvOGY9WbfaiNThgo4ZwAshO2bi7Ggrw8Fss2PCBb6OhwY383GTnrwbi0YdrnzXMaPvBg9MR9fyrVydrFPSbhGpwwUdvVfdCkhHoYaX8ocm1q4uwo46WbJuLCJ1uKCj96pbQemY6rbFbJJ1i0YdLuiIqluEgI6oukUI6IiqW4SAjqi6RYh81xGQAjoCQkBHQAjoCAgBHQEh/g8NuelD00wlTQAAAABJRU5ErkJggg==" alt="./images"></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.books-list .list-content .list-item a</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #39987c<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>如果修改完成后页面效果没有改变，可以使用Ctrl+F5强制刷新。</p> <h2 id="_4、显示购物车页面"><a href="#_4、显示购物车页面" class="header-anchor">#</a> 4、显示购物车页面</h2> <h3 id="_1目标-2"><a href="#_1目标-2" class="header-anchor">#</a> ①目标</h3> <p>把购物车信息在专门的页面显示出来</p> <h3 id="_2思路-2"><a href="#_2思路-2" class="header-anchor">#</a> ②思路</h3> <p>首页→购物车超链接→CartServlet.showCart()→cart.html</p> <h3 id="_3代码实现-2"><a href="#_3代码实现-2" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-购物车超链接"><a href="#_1-购物车超链接" class="header-anchor">#</a> [1]购物车超链接</h4> <p>登录状态和未登录状态</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CartServlet?method=showCart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart iconfont icon-gouwuche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-cartservlet"><a href="#_2-cartservlet" class="header-anchor">#</a> [2]CartServlet</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">showCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-cart-html"><a href="#_3-cart-html" class="header-anchor">#</a> [3]cart.html</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment/welcome :: welcome-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart == null || session.cart.cartItemMap.size() == 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车还是空空的，赶紧去添加吧！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null &amp;&amp; session.cart.cartItemMap.size() &gt; 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cartItemEntry : ${session.cart.cartItemMap}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/uploads/huozhe.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>活着<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.count}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>36.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.amount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>36.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null &amp;&amp; session.cart.cartItemMap.size() &gt; 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清空购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>继续购物<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>共<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalCount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>件商品<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>总金额<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalAmount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>99.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkout.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>去结账<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="_5、清空购物车"><a href="#_5、清空购物车" class="header-anchor">#</a> 5、清空购物车</h2> <h3 id="_1目标-3"><a href="#_1目标-3" class="header-anchor">#</a> ①目标</h3> <p>当用户确定点击清空购物车，将Session域中的Cart对象移除。</p> <h3 id="_2思路-3"><a href="#_2思路-3" class="header-anchor">#</a> ②思路</h3> <p>cart.html→清空购物车超链接→绑定单击响应函数→confirm()确认→确定→CartServlet.clearCart()→从Session域移除Cart对象</p> <h3 id="_3代码实现-3"><a href="#_3代码实现-3" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-清空购物车超链接"><a href="#_1-清空购物车超链接" class="header-anchor">#</a> [1]清空购物车超链接</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CartServlet?method=clearCart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清空购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-绑定单击响应函数"><a href="#_2-绑定单击响应函数" class="header-anchor">#</a> [2]绑定单击响应函数</h4> <h5 id="_1-引入vue"><a href="#_1-引入vue" class="header-anchor">#</a> (1)引入Vue</h5> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/script/vue.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-编写vue代码"><a href="#_2-编写vue代码" class="header-anchor">#</a> (2)编写Vue代码</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;el&quot;</span><span class="token operator">:</span><span class="token string">&quot;#appCart&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;methods&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;clearCart&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1.使用confirm()弹框向用户确认是否要清空</span>
            <span class="token keyword">var</span> confirmResult <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;您真的要清空购物车吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2.如果用户点击了取消</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>confirmResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token comment">// 3.调用事件对象的方法阻止超链接跳转页面</span>
                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_3-cartservlet-clearcart"><a href="#_3-cartservlet-clearcart" class="header-anchor">#</a> [3]CartServlet.clearCart()</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">clearCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 1.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2.将Session域的Cart对象移除</span>
    session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.渲染视图</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_6、减号"><a href="#_6、减号" class="header-anchor">#</a> 6、减号</h2> <h3 id="_1目标-4"><a href="#_1目标-4" class="header-anchor">#</a> ①目标</h3> <ul><li>在大于1的数值基础上-1：执行-1的逻辑</li> <li>在1的基础上-1：执行删除item的逻辑</li></ul> <h3 id="_2思路-4"><a href="#_2思路-4" class="header-anchor">#</a> ②思路</h3> <p>减号span绑定单击响应函数→获取文本框中的数据：当前数量→检查数量是否大于1</p> <ul><li>数量大于1：发送请求访问CartServlet.decrease()方法→回到cart.html</li> <li>数量等于1：confirm确认→发送请求访问CartServlet.removeItem()方法→回到cart.html</li></ul> <h3 id="_3后端代码"><a href="#_3后端代码" class="header-anchor">#</a> ③后端代码</h3> <p>CartServlet.decrease()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">decrease</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.通过请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.从购物车对象中根据bookId执行-1操作</span>
        cart<span class="token punctuation">.</span><span class="token function">itemCountDecrease</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_4前端代码"><a href="#_4前端代码" class="header-anchor">#</a> ④前端代码</h3> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemDecrease<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    ……
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemDecrease&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 0.不管执行两种逻辑中的哪一种，都需要将当前item的bookId发送到Servlet</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// previousSibling：上一个兄弟节点。当前span标签的上一个兄弟节点是空格，所以要再找上一个兄弟</span>
    <span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>previousSibling<span class="token punctuation">.</span>previousSibling<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1.获取文本框中的value属性值：当前item的数量</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// nextSibling：下一个兄弟节点。当前span标签的下一个兄弟节点是空格，所以要再找下一个兄弟</span>
    <span class="token comment">// value：获取input标签的value属性值</span>
    <span class="token keyword">var</span> currentCount <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nextSibling<span class="token punctuation">.</span>nextSibling<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentCount=&quot;</span><span class="token operator">+</span>currentCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.判断currentCount是否大于1</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentCount <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 3.应用-1逻辑</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentCount &gt; 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=decrease&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

        <span class="token comment">// 通过DOM树形结构获取图书名称数据</span>
        <span class="token comment">// event：事件对象</span>
        <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
        <span class="token comment">// parentNode：访问父节点</span>
        <span class="token comment">// parentNode.getElementsByTagName()：在父节点范围内根据标签名称查找元素，返回数组</span>
        <span class="token comment">// innerHTML：返回标签内部HTML代码</span>
        <span class="token keyword">var</span> bookName <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;td&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>

        <span class="token comment">// 4.应用删除item的逻辑</span>
        <span class="token keyword">var</span> confirmResult <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;你真的要从购物车中删除『&quot;</span><span class="token operator">+</span>bookName<span class="token operator">+</span><span class="token string">&quot;』这条记录吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>confirmResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=removeItem&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="_7、删除"><a href="#_7、删除" class="header-anchor">#</a> 7、删除</h2> <h3 id="_1目标-5"><a href="#_1目标-5" class="header-anchor">#</a> ①目标</h3> <p>点击删除超链接后，把对应的CartItem从Cart中删除</p> <h3 id="_2思路-5"><a href="#_2思路-5" class="header-anchor">#</a> ②思路</h3> <p>cart.html→删除超链接→CartServlet.removeItem()→回到cart.html</p> <h3 id="_3代码实现-4"><a href="#_3代码实现-4" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码"><a href="#_1-后端代码" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.removeItem()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.执行删除item操作</span>
        cart<span class="token punctuation">.</span><span class="token function">removeCartItem</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-前端代码"><a href="#_2-前端代码" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>removeConfirm<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/CartServlet(method=removeItem,bookId=${cartItemEntry.value.bookId})}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;removeConfirm&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 通过DOM树形结构获取图书名称数据</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// parentNode：访问父节点</span>
    <span class="token comment">// parentNode.getElementsByTagName()：在父节点范围内根据标签名称查找元素，返回数组</span>
    <span class="token comment">// innerHTML：返回标签内部HTML代码</span>
    <span class="token keyword">var</span> bookName <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;td&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookName=&quot;</span> <span class="token operator">+</span> bookName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;你真的要从购物车中删除『&quot;</span><span class="token operator">+</span>bookName<span class="token operator">+</span><span class="token string">&quot;』这条记录吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="_8、文本框修改"><a href="#_8、文本框修改" class="header-anchor">#</a> 8、文本框修改</h2> <h3 id="_1目标-6"><a href="#_1目标-6" class="header-anchor">#</a> ①目标</h3> <p>用户在文本框输入新数据后，根据用户输入在Session中的Cart中修改CartItem中的count</p> <h3 id="_2思路-6"><a href="#_2思路-6" class="header-anchor">#</a> ②思路</h3> <p>cart.html→前端数据校验→CartServlet.changeCount()→回到cart.html</p> <h3 id="_3代码实现-5"><a href="#_3代码实现-5" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码-2"><a href="#_1-后端代码-2" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.changeCount()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">changeCount</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数获取bookId和newCount</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> newCount <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;newCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.执行修改数量操作</span>
        cart<span class="token punctuation">.</span><span class="token function">updateItemCount</span><span class="token punctuation">(</span>bookId<span class="token punctuation">,</span> newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="_2-前端代码-2"><a href="#_2-前端代码-2" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemCountChange<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.count}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    ……
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemCountChange&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// 1.获取文本框中输入的数据</span>
	<span class="token keyword">var</span> newCount <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

	<span class="token comment">// 6.排除小数或零或负数的情况</span>
	<span class="token keyword">var</span> regExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>regExp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span> <span class="token operator">||</span> newCount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// 7.如果用户输入的数据不是数字，给出提示</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正整数！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 8.将文本框恢复为默认值</span>
		event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>

		<span class="token comment">// 9.当前函数停止执行</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 10.获取bookId值</span>
	<span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 11.发送请求执行修改</span>
	window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=changeCount&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token operator">+</span><span class="token string">&quot;&amp;newCount=&quot;</span><span class="token operator">+</span>newCount<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="_9、加号"><a href="#_9、加号" class="header-anchor">#</a> 9、加号</h2> <h3 id="_1目标-7"><a href="#_1目标-7" class="header-anchor">#</a> ①目标</h3> <p>告诉Servlet将Session域中Cart对象里面对应的CartItem执行count+1操作</p> <h3 id="_2思路-7"><a href="#_2思路-7" class="header-anchor">#</a> ②思路</h3> <p>加号span绑定单击响应函数→获取文本框中的数据：当前数量→CartServlet.increase()→回到cart.html</p> <h3 id="_3代码实现-6"><a href="#_3代码实现-6" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码-3"><a href="#_1-后端代码-3" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.increase()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">increase</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.通过请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.从购物车对象中根据bookId执行-1操作</span>
        cart<span class="token punctuation">.</span><span class="token function">itemCountIncrease</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-前端代码-3"><a href="#_2-前端代码-3" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemIncrease<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemIncrease&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// 1.获取bookId值</span>
	<span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>

	<span class="token comment">// 2.发送请求执行+1</span>
	window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=increase&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_10、double数据运算过程中精度调整"><a href="#_10、double数据运算过程中精度调整" class="header-anchor">#</a> 10、Double数据运算过程中精度调整</h2> <h3 id="_1问题现象"><a href="#_1问题现象" class="header-anchor">#</a> ①问题现象</h3> <p><img src="data:image/png;base64,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" alt="./images"></p> <h3 id="_2解决方案"><a href="#_2解决方案" class="header-anchor">#</a> ②解决方案</h3> <ul><li>使用BigDecimal类型来进行Double类型数据运算</li> <li>创建BigDecimal类型对象时将Double类型的数据转换为字符串</li></ul> <p>Cart类：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 计算总金额</span>
<span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getTotalAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
    <span class="token class-name">BigDecimal</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.遍历Map集合</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Double</span> amount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        sum <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 3.返回累加结果</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>CartItem类：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取金额时需要计算得到</span>
<span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">BigDecimal</span> bigDecimalCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BigDecimal</span> bigDecimalPrice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">BigDecimal</span> multiReuslt <span class="token operator">=</span> bigDecimalCount<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span>bigDecimalPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> multiReuslt<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><a href="/code_heavy_industry/pro001-javaweb/lecture/bookstore04/verse02.html">上一节</a> <a href="/code_heavy_industry/pro001-javaweb/lecture/bookstore04/index.html">回目录</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/code_heavy_industry/assets/js/app.a0f5103b.js" defer></script><script src="/code_heavy_industry/assets/js/3.10c825b1.js" defer></script><script src="/code_heavy_industry/assets/js/91.3532ee5b.js" defer></script>
  </body>
</html>
