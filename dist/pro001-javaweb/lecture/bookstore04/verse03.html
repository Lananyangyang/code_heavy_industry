<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码重工</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="代码重工">
    
    <link rel="preload" href="/code_heavy_industry/assets/css/0.styles.42bda294.css" as="style"><link rel="preload" href="/code_heavy_industry/assets/js/app.96f80dc0.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/3.5e693b53.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/88.8c8a048b.js" as="script"><link rel="prefetch" href="/code_heavy_industry/assets/js/10.114e3784.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/100.3079e246.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/101.3c042615.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/102.bcf33fca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/103.01d811e8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/104.2576a3ef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/105.8a6a226f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/106.e1c294eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/107.121266a4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/108.cdb9f1c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/109.391ed54b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/11.7a95aa84.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/110.41a5dbc4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/111.37602556.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/112.db9e8ada.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/113.57d66461.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/114.ffd19ead.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/115.7c71dc2a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/116.06252a2c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/117.ff1b506c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/118.7a48acb7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/119.0bbeaf3c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/12.41cf38cf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/120.12f4aa6b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/121.b127b6be.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/122.4e8cfa72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/123.229ba2c7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/124.fe9c1431.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/125.65fe1836.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/126.696100c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/127.26893e6d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/128.4f8c22bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/129.fff45c59.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/13.96cd1827.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/130.b3ca7628.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/131.36faa9ee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/132.30c5e390.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/133.8e90c6b8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/134.14898e80.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/135.b65edeea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/136.ac1abfea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/137.333e4a02.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/138.82af1434.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/139.14e232d7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/14.d831e3e5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/140.ae350f5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/141.fff1d79f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/142.84cd9f2b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/143.c430c30c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/144.bd1c6859.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/145.0b7aacd9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/146.04b77b0a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/147.a73786de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/148.4de3bc7b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/149.ca91f35d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/15.62f8aeba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/150.e6631314.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/151.37b05e9b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/152.910df1d6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/153.a2d7ccfd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/154.1bd85bf0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/155.c91d6f4a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/156.210db14d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/157.8ed469d6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/158.5a014a08.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/159.9d9b7e1f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/16.69c839fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/160.8330eb3d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/161.94837eb9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/162.f391449c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/163.5a43a21e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/164.2c681697.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/165.1333b949.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/166.5e5f71fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/167.8473fdcb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/168.e5a36d52.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/169.e993652f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/17.57497235.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/170.bd2819ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/171.feafd594.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/172.623bf983.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/173.c6cd0d72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/174.4b658107.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/175.25502764.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/176.8abea91d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/177.c1c55233.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/178.3c8cae60.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/179.6c3bf425.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/18.adc24dcf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/180.8b257d33.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/181.a18e3672.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/182.429e6be6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/183.b6c270df.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/184.36b2303d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/185.d817570f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/186.488ac819.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/187.3859f95e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/188.ecb8c72b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/189.c786574d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/19.8d72de7d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/190.0fde1598.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/191.d4655cfb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/192.2948b190.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/193.ef548b85.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/194.33d2d4b4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/195.c56ad2b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/196.92b9c78e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/197.75997e82.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/198.597fec2f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/199.418d8fe8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/2.fcbfb1b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/20.5b35b07c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/200.3f7bd9f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/201.c9da5757.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/202.a2375fb5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/203.4db1f8bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/204.c52c839f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/205.44aff7fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/206.9c439497.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/207.3c5c8919.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/208.470aac98.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/209.786c6902.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/21.9d2c77ab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/210.a6197ab0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/211.a64ab77d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/212.95fca73c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/213.2ec7629a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/214.e5fc368f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/215.fe1538bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/216.dd9d8f38.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/217.67136744.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/218.2b1e9371.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/219.1401b231.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/22.744c1447.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/220.6a410738.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/221.5d3977e7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/222.db90c608.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/223.2fd241ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/224.06474d31.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/225.1dc57993.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/226.81d7484b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/227.35112c53.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/228.bea736eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/229.dc51e8c8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/23.b0b32496.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/230.3cada949.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/231.e3f086b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/232.a8a573b2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/233.8f71313c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/234.8fa056ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/235.936471ba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/236.d0200aed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/237.20bc41a4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/238.59747e5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/239.58c01c83.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/24.af450012.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/240.be301b75.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/241.a1838463.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/242.a4831d12.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/243.36a05a43.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/244.33521209.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/245.1a7b5b6a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/246.b69fde91.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/247.351acb7f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/248.61d498f8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/249.ad3f8b40.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/25.471e1f45.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/250.e5d2722d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/251.ea190bd8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/252.93fd4d57.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/253.5166ec8b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/254.aa8eb4b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/255.35be3db8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/256.be0b5b20.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/257.852a8eaa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/258.4ae44753.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/259.35a5bf3f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/26.ea42dafb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/260.f1a9a211.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/261.8acc170b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/262.d46c0511.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/263.6a03cb8b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/264.f3e65c39.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/265.f979a819.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/266.2fb7cb3d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/267.e9b7e8dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/268.ce5ef9cd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/269.c19a39f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/27.049c1b29.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/270.bfd16530.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/271.0037d751.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/272.6411ce19.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/273.dfb27083.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/274.4194f0c7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/275.f08447fe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/276.aa2b42cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/277.58a89534.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/278.3c2cf599.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/279.2a7d5cd8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/28.fe056fae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/280.6a2b64a3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/281.e9f8d494.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/282.78e702e9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/283.eddd488c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/284.37a52cdb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/285.22a89fc7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/286.290870a8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/287.51eb3534.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/288.caf3f910.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/289.b289581d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/29.3f69d173.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/290.4a7396f9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/291.9aa3c85b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/292.b6823161.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/293.68af83e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/294.ee4c55ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/295.72b94f8f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/296.c0552791.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/297.9768466f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/298.b9539fc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/299.f5ff44a2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/30.02442e2b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/300.4bae1266.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/301.39f1c3e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/302.212ecea5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/303.88d2a32b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/304.5c1d9e0b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/305.20ee04b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/306.e767d9c4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/307.1d819975.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/308.0584796c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/309.d3dfc70b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/31.c0e76c71.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/310.fa8f67c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/311.7b86caf8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/312.bd3b5d24.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/313.c8964e3c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/314.a1bd76b7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/315.b2237e73.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/316.1d9c2bf4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/317.619dd1a3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/318.47fadd53.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/319.40e5dd81.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/32.f6fb8a6d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/320.d36ad013.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/321.48e35ad2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/322.1887643a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/323.0a981468.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/324.4c004134.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/325.3f20ac72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/326.6d9fde52.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/327.31f10493.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/328.fbde0260.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/329.b6c523c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/33.c2a63604.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/330.c680ffc4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/331.da2dfeec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/332.9bd0812f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/333.99d72d10.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/334.4833fbcd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/335.a1b4cdb2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/336.42047e40.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/337.f8e3439b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/338.d8eba4dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/339.ae7267a4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/34.5400563b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/340.1d76df67.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/341.8c2e4c7c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/342.6b461290.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/343.eebc17e4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/344.db0d12a1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/345.d2c30428.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/346.9ab76fd5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/347.d71d50db.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/348.531781ab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/349.66641275.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/35.6f0f452e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/350.b10b4b43.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/351.09a14f99.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/352.f9be34ba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/353.0799ef5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/354.12e91ad8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/355.d05bfa73.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/356.cc4604f6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/357.bcf8cffc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/358.ce299c18.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/359.1206c8c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/36.e24fbeee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/360.2fae1f80.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/361.26ba38cc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/362.7c17922d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/363.6f2118c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/364.6b3a23b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/365.3147d4c3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/366.f2a3cf55.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/367.d9bdd1d4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/368.908c5507.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/369.79aed1ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/37.2e20d5ca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/370.e2848368.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/371.71aaa63a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/372.089afb5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/373.a2762ba9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/374.77306c5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/375.bb7e4ed4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/376.887aadae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/377.b8f86a0e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/378.3c9547bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/379.f2b4d0b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/38.15be2567.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/380.8daa7ae8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/381.4cdd11ba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/382.663904f0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/383.deec8e68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/384.1decead1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/385.6d787834.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/386.3e600b30.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/387.b40a25fe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/388.f4952964.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/389.72033203.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/39.21c8cdc2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/390.ed0a2e04.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/391.8d957268.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/392.cd03e5ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/393.236fd95f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/394.3f40ad19.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/395.fc3be12c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/396.d71af341.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/397.5c327de4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/398.e2acdc98.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/399.d16e7c92.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/4.fe57daf5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/40.315c5cb1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/400.cb86163a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/401.f568f7c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/402.1f53599c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/403.fb14b8f0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/404.23781daf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/405.bef01614.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/406.4ab52418.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/407.47b08d28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/408.5ed6d7df.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/409.ee97e5db.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/41.7fd1a6ad.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/410.b750634a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/411.945a4baa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/412.375396da.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/413.cb8cee4f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/414.1c5cabc9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/415.487cafc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/416.5a15af16.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/417.6ebdfd1a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/418.fc396418.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/419.51c94112.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/42.61baf2dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/420.7be7fa9c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/421.35c73459.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/422.b22cbda8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/423.d2fb37cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/424.cf392ffe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/425.431d010c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/426.5a2d6b42.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/427.a2601a29.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/428.5bf0f848.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/429.caef4ad4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/43.07b1f5b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/430.28104506.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/431.dac90ea0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/432.7363c8ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/433.2cb0052d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/434.16a1ef5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/435.bd97f401.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/436.41c320b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/437.6f5c52cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/438.20a143d9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/439.c7a6d2e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/44.0333363a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/440.da972083.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/441.7700ee43.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/442.bead1e0c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/443.83045271.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/444.10ff4361.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/445.42071218.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/446.8fbcc568.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/447.d0fec363.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/448.bbfd67ef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/449.fcd464cf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/45.02e95687.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/450.520e5dec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/451.617ada03.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/452.a0c34177.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/453.c6639715.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/454.3612afbf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/455.3916266d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/456.09b7d404.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/457.331c67ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/458.32f389a3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/459.a035dd93.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/46.be13cbd8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/460.fe860ff7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/461.6d62f2c4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/462.b34af172.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/463.e6cb93e9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/464.056932b3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/465.cedc6727.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/466.3d23366a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/467.c5c61ff1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/468.be2cd681.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/469.4c7def53.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/47.a85b4098.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/470.8ddbc014.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/471.49326037.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/472.7a1b3775.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/473.6b97a535.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/474.192d5cbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/475.2238fbc3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/476.7bd977c8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/477.90a97bea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/478.9b0c550a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/479.f8eebeeb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/48.11b3587c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/480.140895c1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/481.98474a28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/482.8732b36f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/483.a0fa39ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/484.e5c43a72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/485.c2bf0e44.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/486.50dc835b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/487.f8eb22f6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/488.aa2ee99f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/489.d04211af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/49.65401a32.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/490.601c97bc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/491.df44e416.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/492.d48cc9df.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/493.9574c759.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/494.ca950cb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/495.a4541dd3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/496.ed63ac3f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/497.6c8f628a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/498.389b80b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/499.a77c428f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/5.56a523dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/50.083a26a9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/500.69800003.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/501.7eeadf4e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/502.8a49c860.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/503.0a0c0a8e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/504.18c105fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/505.e13bd880.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/506.02da40d0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/507.fe5837f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/508.2f79b452.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/509.2a3718ae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/51.c6ec6816.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/510.1127783c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/511.e2bde7e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/512.11eefd57.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/513.b739c3d8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/514.b03d4b5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/515.f05144fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/516.41decd1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/517.f692c3ab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/518.756b8d37.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/519.0447ba66.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/52.61450797.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/520.c4803f7a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/521.036ae00c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/522.2e4da26f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/523.3d4acbfe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/524.8f7da5bb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/525.50984068.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/526.5a6ee956.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/527.974c4744.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/528.48960a63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/529.c71d94f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/53.90107197.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/530.50d86340.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/531.604b0958.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/532.71e2002f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/533.c12a4efe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/534.1eb4a33b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/535.b40de379.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/536.6bcf3e29.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/537.c39a2e98.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/538.655064dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/539.51252b48.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/54.ed7480eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/540.8f0b3c0b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/541.7344d896.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/542.45ac1ffa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/543.3c774478.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/544.7f1c53ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/545.4e78f498.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/546.2896f4c7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/547.d10fe048.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/548.8bd68cfd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/549.a82548f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/55.18557c38.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/550.f47c0f1b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/551.2ee782e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/552.8233bae5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/553.76edf3d7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/554.07654321.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/555.611b872d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/556.b1416df6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/557.2edd2af6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/558.5e2bfc35.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/559.cde20d04.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/56.bf6dc129.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/560.9250193d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/561.92c1498b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/562.c44a1378.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/563.8a2e8488.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/564.df057a43.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/565.ecebfcae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/566.43f6470e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/567.fd5cb72e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/568.0b602b1a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/569.c57d6371.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/57.475c8c00.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/570.882861f7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/571.912cc89d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/572.88bcc99c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/573.4fc74e59.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/574.dfaa284b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/575.eb92b4de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/576.b646b5fe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/577.bd890078.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/578.25cae74e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/579.87a668fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/58.8c7cabd0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/580.ad9e3914.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/581.56e4c54a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/582.b37f29aa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/583.b9ed2d91.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/584.416edffc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/585.004a1625.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/586.0f43cd72.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/587.1cf58595.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/588.07535c7b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/589.e3c44d34.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/59.eda777e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/590.2ae6b143.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/591.9372e041.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/592.1ff4513d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/593.78708a63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/594.b30f55b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/595.224b7523.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/596.95c747b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/597.74ac716a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/598.e2d579e4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/599.3d299427.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/6.61f243da.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/60.421e8a58.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/600.aa0cecd0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/601.86fbb203.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/602.04248567.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/603.0694f898.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/604.6bd53a1c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/605.7cc80adf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/606.7fc88187.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/607.8823c9ad.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/608.2aa46475.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/609.ed86fef2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/61.d3b6e3d9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/610.8d147dcb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/611.318a3ee6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/612.83fe1c3b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/613.fd41252e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/614.92285d4b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/615.4ad86521.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/616.95edf49b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/617.649a2cbb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/618.0ce1abe5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/619.348907b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/62.74271c37.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/620.5e0fc3fc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/63.b88f1a27.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/64.5116adf8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/65.c912c89a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/66.9458bab3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/67.62e83c65.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/68.9ebc8bbd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/69.526db42f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/7.0bbf7092.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/70.24780245.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/71.6ecd44f1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/72.a358a698.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/73.ab6f391e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/74.d89f8beb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/75.9745aeec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/76.f3494074.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/77.746c2218.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/78.98ab427b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/79.6c4f1b1d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/8.c54fb120.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/80.9829ac17.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/81.68e02c6c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/82.72f71668.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/83.aefb1dc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/84.6cbf6cec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/85.fe99234c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/86.f1c5ee09.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/87.69222fa6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/89.da029234.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/9.e3be9a82.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/90.e6ccf8c3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/91.065b2cd7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/92.3c06fb9a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/93.b8d88190.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/94.9bc7fc25.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/95.754ead13.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/96.262c46a2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/97.069b6441.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/98.076e402b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/99.d8e30fef.js">
    <link rel="stylesheet" href="/code_heavy_industry/assets/css/0.styles.42bda294.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/code_heavy_industry/" class="home-link router-link-active"><!----> <span class="site-name">代码重工</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#_1、功能清单">1、功能清单</a></li><li><a href="#_2、创建购物车模型">2、创建购物车模型</a><ul><li><a href="#_1购物车详情类-cartitem">①购物车详情类：CartItem</a></li><li><a href="#_2购物车类-cart">②购物车类：Cart</a></li></ul></li><li><a href="#_3、添加购物车功能">3、添加购物车功能</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li><li><a href="#_4css样式">④CSS样式</a></li></ul></li><li><a href="#_4、显示购物车页面">4、显示购物车页面</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_5、清空购物车">5、清空购物车</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_6、减号">6、减号</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3后端代码">③后端代码</a></li><li><a href="#_4前端代码">④前端代码</a></li></ul></li><li><a href="#_7、删除">7、删除</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_8、文本框修改">8、文本框修改</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_9、加号">9、加号</a><ul><li><a href="#_1目标">①目标</a></li><li><a href="#_2思路">②思路</a></li><li><a href="#_3代码实现">③代码实现</a></li></ul></li><li><a href="#_10、double数据运算过程中精度调整">10、Double数据运算过程中精度调整</a><ul><li><a href="#_1问题现象">①问题现象</a></li><li><a href="#_2解决方案">②解决方案</a></li></ul></li></ul></div><p></p> <h1 id="第三节-购物车"><a href="#第三节-购物车" class="header-anchor">#</a> 第三节 购物车</h1> <h2 id="_1、功能清单"><a href="#_1、功能清单" class="header-anchor">#</a> 1、功能清单</h2> <ul><li>添加购物车</li> <li>显示购物车信息</li> <li>修改购物车中具体商品的数量</li> <li>删除购物车中某个具体商品</li> <li>清空购物车</li></ul> <h2 id="_2、创建购物车模型"><a href="#_2、创建购物车模型" class="header-anchor">#</a> 2、创建购物车模型</h2> <p><img src="/code_heavy_industry/assets/img/img007.b7bb3fd9.png" alt="./images"></p> <h3 id="_1购物车详情类-cartitem"><a href="#_1购物车详情类-cartitem" class="header-anchor">#</a> ①购物车详情类：CartItem</h3> <p><img src="data:image/png;base64,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" alt="./images"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CartItem</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> bookId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bookName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> imgPath<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> price<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> count<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> amount<span class="token punctuation">;</span>
    
    <span class="token comment">// 获取金额时需要计算得到</span>
    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2购物车类-cart"><a href="#_2购物车类-cart" class="header-anchor">#</a> ②购物车类：Cart</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cart</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CartItem</span><span class="token punctuation">&gt;</span></span> cartItemMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加购物车</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCartItem</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.获取当前Book对象的id值</span>
        <span class="token class-name">String</span> bookId <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.根据id值到Map中检查是否已存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItemMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 3.如果存在，则给原有的CartItem增加数量</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> newCount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

            cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 4.如果不存在，则创建新的CartItem对象</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CartItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setBookId</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setBookName</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getBookName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setImgPath</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getImgPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cartItem<span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 5.将新的CartItem对象存入cartItemMap</span>
            cartItemMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>bookId<span class="token punctuation">,</span> cartItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 从购物车中删除CartItem</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeCartItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        cartItemMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量修改为指定值</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateItemCount</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">,</span> <span class="token class-name">Integer</span> newCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 根据bookId从Map中获取对应的CartItem对象</span>
        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置新的数量值</span>
        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量+1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">itemCountIncrease</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 把某个CartItem的数量-1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">itemCountDecrease</span><span class="token punctuation">(</span><span class="token class-name">String</span> bookId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cartItem<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">removeCartItem</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CartItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCartItemMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cartItemMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 计算总数量</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
        <span class="token class-name">Integer</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.遍历Map集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Integer</span> count <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sum <span class="token operator">=</span> sum <span class="token operator">+</span> count<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3.返回累加结果</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 计算总金额</span>
    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getTotalAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
        <span class="token class-name">Double</span> sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.遍历Map集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Double</span> amount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            sum <span class="token operator">=</span> sum <span class="token operator">+</span> amount<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3.返回累加结果</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><h2 id="_3、添加购物车功能"><a href="#_3、添加购物车功能" class="header-anchor">#</a> 3、添加购物车功能</h2> <h3 id="_1目标"><a href="#_1目标" class="header-anchor">#</a> ①目标</h3> <p>在首页点击『加入购物车』将该条图书加入『购物车』。</p> <h3 id="_2思路"><a href="#_2思路" class="header-anchor">#</a> ②思路</h3> <p>首页→加入购物车→CartServlet.addCart()→执行添加操作→回到首页</p> <h3 id="_3代码实现"><a href="#_3代码实现" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-创建cartservlet"><a href="#_1-创建cartservlet" class="header-anchor">#</a> [1]创建CartServlet</h4> <p><img src="data:image/png;base64,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" alt="./images"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CartServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ModelBaseServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">BookService</span> bookService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BookServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.从请求参数中获取bookId</span>
        <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.根据bookId查询图书数据</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.获取Session对象</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.尝试从Session域获取购物车对象</span>
        <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.判断Cart对象是否存在</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// 6.如果不存在，则创建新的Cart对象</span>
            cart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 7.将新创建的Cart对象存入Session域</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 8.添加购物车</span>
        cart<span class="token punctuation">.</span><span class="token function">addCartItem</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 9.回首页</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_2-index-html页面"><a href="#_2-index-html页面" class="header-anchor">#</a> [2]index.html页面</h4> <p>购物车数量显示：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--          登录后风格--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>topbar-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.user != null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>欢迎你<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.user.userName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>张总<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>注销<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pages/cart/cart.jsp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart iconfont icon-gouwuche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        购物车
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalCount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pages/manager/book_manager.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>后台管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>加入购物车：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-content<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${not #lists.isEmpty(bookList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book : ${bookList}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/uploads/huozhe.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>书名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>活着<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>作者:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.author}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>余华<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>价格:￥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>66.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>销量:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.sales}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>230<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>库存:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${book.stock}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--&lt;button&gt;加入购物车&lt;/button&gt;--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/CartServlet(method=addCart,bookId=${book.bookId})}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>加入购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4css样式"><a href="#_4css样式" class="header-anchor">#</a> ④CSS样式</h3> <p><img src="data:image/png;base64,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" alt="./images"></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.books-list .list-content .list-item a</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #39987c<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>如果修改完成后页面效果没有改变，可以使用Ctrl+F5强制刷新。</p> <h2 id="_4、显示购物车页面"><a href="#_4、显示购物车页面" class="header-anchor">#</a> 4、显示购物车页面</h2> <h3 id="_1目标-2"><a href="#_1目标-2" class="header-anchor">#</a> ①目标</h3> <p>把购物车信息在专门的页面显示出来</p> <h3 id="_2思路-2"><a href="#_2思路-2" class="header-anchor">#</a> ②思路</h3> <p>首页→购物车超链接→CartServlet.showCart()→cart.html</p> <h3 id="_3代码实现-2"><a href="#_3代码实现-2" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-购物车超链接"><a href="#_1-购物车超链接" class="header-anchor">#</a> [1]购物车超链接</h4> <p>登录状态和未登录状态</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CartServlet?method=showCart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart iconfont icon-gouwuche<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-cartservlet"><a href="#_2-cartservlet" class="header-anchor">#</a> [2]CartServlet</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">showCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-cart-html"><a href="#_3-cart-html" class="header-anchor">#</a> [3]cart.html</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment/welcome :: welcome-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart == null || session.cart.cartItemMap.size() == 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>购物车还是空空的，赶紧去添加吧！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null &amp;&amp; session.cart.cartItemMap.size() &gt; 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cartItemEntry : ${session.cart.cartItemMap}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/uploads/huozhe.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>活着<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.count}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>36.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.amount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>36.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart != null &amp;&amp; session.cart.cartItemMap.size() &gt; 0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清空购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>继续购物<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>共<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalCount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>件商品<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>总金额<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.cart.totalAmount}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>99.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkout.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>去结账<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="_5、清空购物车"><a href="#_5、清空购物车" class="header-anchor">#</a> 5、清空购物车</h2> <h3 id="_1目标-3"><a href="#_1目标-3" class="header-anchor">#</a> ①目标</h3> <p>当用户确定点击清空购物车，将Session域中的Cart对象移除。</p> <h3 id="_2思路-3"><a href="#_2思路-3" class="header-anchor">#</a> ②思路</h3> <p>cart.html→清空购物车超链接→绑定单击响应函数→confirm()确认→确定→CartServlet.clearCart()→从Session域移除Cart对象</p> <h3 id="_3代码实现-3"><a href="#_3代码实现-3" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-清空购物车超链接"><a href="#_1-清空购物车超链接" class="header-anchor">#</a> [1]清空购物车超链接</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CartServlet?method=clearCart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清空购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-绑定单击响应函数"><a href="#_2-绑定单击响应函数" class="header-anchor">#</a> [2]绑定单击响应函数</h4> <h5 id="_1-引入vue"><a href="#_1-引入vue" class="header-anchor">#</a> (1)引入Vue</h5> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/script/vue.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-编写vue代码"><a href="#_2-编写vue代码" class="header-anchor">#</a> (2)编写Vue代码</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;el&quot;</span><span class="token operator">:</span><span class="token string">&quot;#appCart&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;methods&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;clearCart&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1.使用confirm()弹框向用户确认是否要清空</span>
            <span class="token keyword">var</span> confirmResult <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;您真的要清空购物车吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2.如果用户点击了取消</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>confirmResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token comment">// 3.调用事件对象的方法阻止超链接跳转页面</span>
                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_3-cartservlet-clearcart"><a href="#_3-cartservlet-clearcart" class="header-anchor">#</a> [3]CartServlet.clearCart()</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">clearCart</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 1.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2.将Session域的Cart对象移除</span>
    session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.渲染视图</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_6、减号"><a href="#_6、减号" class="header-anchor">#</a> 6、减号</h2> <h3 id="_1目标-4"><a href="#_1目标-4" class="header-anchor">#</a> ①目标</h3> <ul><li>在大于1的数值基础上-1：执行-1的逻辑</li> <li>在1的基础上-1：执行删除item的逻辑</li></ul> <h3 id="_2思路-4"><a href="#_2思路-4" class="header-anchor">#</a> ②思路</h3> <p>减号span绑定单击响应函数→获取文本框中的数据：当前数量→检查数量是否大于1</p> <ul><li>数量大于1：发送请求访问CartServlet.decrease()方法→回到cart.html</li> <li>数量等于1：confirm确认→发送请求访问CartServlet.removeItem()方法→回到cart.html</li></ul> <h3 id="_3后端代码"><a href="#_3后端代码" class="header-anchor">#</a> ③后端代码</h3> <p>CartServlet.decrease()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">decrease</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.通过请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.从购物车对象中根据bookId执行-1操作</span>
        cart<span class="token punctuation">.</span><span class="token function">itemCountDecrease</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_4前端代码"><a href="#_4前端代码" class="header-anchor">#</a> ④前端代码</h3> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemDecrease<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    ……
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemDecrease&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 0.不管执行两种逻辑中的哪一种，都需要将当前item的bookId发送到Servlet</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// previousSibling：上一个兄弟节点。当前span标签的上一个兄弟节点是空格，所以要再找上一个兄弟</span>
    <span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>previousSibling<span class="token punctuation">.</span>previousSibling<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1.获取文本框中的value属性值：当前item的数量</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// nextSibling：下一个兄弟节点。当前span标签的下一个兄弟节点是空格，所以要再找下一个兄弟</span>
    <span class="token comment">// value：获取input标签的value属性值</span>
    <span class="token keyword">var</span> currentCount <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nextSibling<span class="token punctuation">.</span>nextSibling<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentCount=&quot;</span><span class="token operator">+</span>currentCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.判断currentCount是否大于1</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentCount <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 3.应用-1逻辑</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentCount &gt; 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=decrease&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

        <span class="token comment">// 通过DOM树形结构获取图书名称数据</span>
        <span class="token comment">// event：事件对象</span>
        <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
        <span class="token comment">// parentNode：访问父节点</span>
        <span class="token comment">// parentNode.getElementsByTagName()：在父节点范围内根据标签名称查找元素，返回数组</span>
        <span class="token comment">// innerHTML：返回标签内部HTML代码</span>
        <span class="token keyword">var</span> bookName <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;td&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>

        <span class="token comment">// 4.应用删除item的逻辑</span>
        <span class="token keyword">var</span> confirmResult <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;你真的要从购物车中删除『&quot;</span><span class="token operator">+</span>bookName<span class="token operator">+</span><span class="token string">&quot;』这条记录吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>confirmResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=removeItem&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="_7、删除"><a href="#_7、删除" class="header-anchor">#</a> 7、删除</h2> <h3 id="_1目标-5"><a href="#_1目标-5" class="header-anchor">#</a> ①目标</h3> <p>点击删除超链接后，把对应的CartItem从Cart中删除</p> <h3 id="_2思路-5"><a href="#_2思路-5" class="header-anchor">#</a> ②思路</h3> <p>cart.html→删除超链接→CartServlet.removeItem()→回到cart.html</p> <h3 id="_3代码实现-4"><a href="#_3代码实现-4" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码"><a href="#_1-后端代码" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.removeItem()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.执行删除item操作</span>
        cart<span class="token punctuation">.</span><span class="token function">removeCartItem</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-前端代码"><a href="#_2-前端代码" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>removeConfirm<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/CartServlet(method=removeItem,bookId=${cartItemEntry.value.bookId})}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;removeConfirm&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 通过DOM树形结构获取图书名称数据</span>
    <span class="token comment">// event：事件对象</span>
    <span class="token comment">// event.target：当前事件操作的控件（HTML元素）</span>
    <span class="token comment">// parentNode：访问父节点</span>
    <span class="token comment">// parentNode.getElementsByTagName()：在父节点范围内根据标签名称查找元素，返回数组</span>
    <span class="token comment">// innerHTML：返回标签内部HTML代码</span>
    <span class="token keyword">var</span> bookName <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;td&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookName=&quot;</span> <span class="token operator">+</span> bookName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;你真的要从购物车中删除『&quot;</span><span class="token operator">+</span>bookName<span class="token operator">+</span><span class="token string">&quot;』这条记录吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="_8、文本框修改"><a href="#_8、文本框修改" class="header-anchor">#</a> 8、文本框修改</h2> <h3 id="_1目标-6"><a href="#_1目标-6" class="header-anchor">#</a> ①目标</h3> <p>用户在文本框输入新数据后，根据用户输入在Session中的Cart中修改CartItem中的count</p> <h3 id="_2思路-6"><a href="#_2思路-6" class="header-anchor">#</a> ②思路</h3> <p>cart.html→前端数据校验→CartServlet.changeCount()→回到cart.html</p> <h3 id="_3代码实现-5"><a href="#_3代码实现-5" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码-2"><a href="#_1-后端代码-2" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.changeCount()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">changeCount</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数获取bookId和newCount</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> newCount <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;newCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.执行修改数量操作</span>
        cart<span class="token punctuation">.</span><span class="token function">updateItemCount</span><span class="token punctuation">(</span>bookId<span class="token punctuation">,</span> newCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="_2-前端代码-2"><a href="#_2-前端代码-2" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemCountChange<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.count}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    ……
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemCountChange&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// 1.获取文本框中输入的数据</span>
	<span class="token keyword">var</span> newCount <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

	<span class="token comment">// 6.排除小数或零或负数的情况</span>
	<span class="token keyword">var</span> regExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>regExp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>newCount<span class="token punctuation">)</span> <span class="token operator">||</span> newCount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// 7.如果用户输入的数据不是数字，给出提示</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正整数！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 8.将文本框恢复为默认值</span>
		event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>

		<span class="token comment">// 9.当前函数停止执行</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 10.获取bookId值</span>
	<span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 11.发送请求执行修改</span>
	window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=changeCount&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token operator">+</span><span class="token string">&quot;&amp;newCount=&quot;</span><span class="token operator">+</span>newCount<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="_9、加号"><a href="#_9、加号" class="header-anchor">#</a> 9、加号</h2> <h3 id="_1目标-7"><a href="#_1目标-7" class="header-anchor">#</a> ①目标</h3> <p>告诉Servlet将Session域中Cart对象里面对应的CartItem执行count+1操作</p> <h3 id="_2思路-7"><a href="#_2思路-7" class="header-anchor">#</a> ②思路</h3> <p>加号span绑定单击响应函数→获取文本框中的数据：当前数量→CartServlet.increase()→回到cart.html</p> <h3 id="_3代码实现-6"><a href="#_3代码实现-6" class="header-anchor">#</a> ③代码实现</h3> <h4 id="_1-后端代码-3"><a href="#_1-后端代码-3" class="header-anchor">#</a> [1]后端代码</h4> <p>CartServlet.increase()</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">increase</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.通过请求参数获取bookId</span>
    <span class="token class-name">String</span> bookId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;bookId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.通过request对象获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.从Session域获取购物车对象</span>
    <span class="token class-name">Cart</span> cart <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Cart</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ※考虑到如果Session超时会导致购物车数据丢失，所以先判断购物车数据是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cart <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 4.从购物车对象中根据bookId执行-1操作</span>
        cart<span class="token punctuation">.</span><span class="token function">itemCountIncrease</span><span class="token punctuation">(</span>bookId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 5.回到购物车页面</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;cart/cart&quot;</span><span class="token punctuation">;</span>

    <span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-前端代码-3"><a href="#_2-前端代码-3" class="header-anchor">#</a> [2]前端代码</h4> <p>HTML代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${cartItemEntry.value.bookId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemIncrease<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Vue代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">,</span>
<span class="token string">&quot;itemIncrease&quot;</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// 1.获取bookId值</span>
	<span class="token keyword">var</span> bookId <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>

	<span class="token comment">// 2.发送请求执行+1</span>
	window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;CartServlet?method=increase&amp;bookId=&quot;</span><span class="token operator">+</span>bookId<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_10、double数据运算过程中精度调整"><a href="#_10、double数据运算过程中精度调整" class="header-anchor">#</a> 10、Double数据运算过程中精度调整</h2> <h3 id="_1问题现象"><a href="#_1问题现象" class="header-anchor">#</a> ①问题现象</h3> <p><img src="data:image/png;base64,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" alt="./images"></p> <h3 id="_2解决方案"><a href="#_2解决方案" class="header-anchor">#</a> ②解决方案</h3> <ul><li>使用BigDecimal类型来进行Double类型数据运算</li> <li>创建BigDecimal类型对象时将Double类型的数据转换为字符串</li></ul> <p>Cart类：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 计算总金额</span>
<span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getTotalAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.声明一个变量用于存储累加结果</span>
    <span class="token class-name">BigDecimal</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.遍历Map集合</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CartItem</span> cartItem <span class="token operator">=</span> cartItemMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Double</span> amount <span class="token operator">=</span> cartItem<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        sum <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 3.返回累加结果</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>CartItem类：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取金额时需要计算得到</span>
<span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">BigDecimal</span> bigDecimalCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BigDecimal</span> bigDecimalPrice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">BigDecimal</span> multiReuslt <span class="token operator">=</span> bigDecimalCount<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span>bigDecimalPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> multiReuslt<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><a href="/code_heavy_industry/pro001-javaweb/lecture/bookstore04/verse02.html">上一节</a> <a href="/code_heavy_industry/pro001-javaweb/lecture/bookstore04/index.html">回目录</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/code_heavy_industry/assets/js/app.96f80dc0.js" defer></script><script src="/code_heavy_industry/assets/js/3.5e693b53.js" defer></script><script src="/code_heavy_industry/assets/js/88.8c8a048b.js" defer></script>
  </body>
</html>
